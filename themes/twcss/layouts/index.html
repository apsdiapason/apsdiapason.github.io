<!DOCTYPE html>
<html>
{{- partial "head.html" . -}}

<body class="font-serif md:w-screen md:mx-auto bg-gray-200">
    <h1 class="pl-2 md:pl-0 text-left text-4xl md:mt-6 md:mb-6 md:w-8/12 md:mx-auto">La Corte Polifonica</h1>

    <div id="small-cover-boxes" class="flex flex-wrap sm:hidden">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/1.png" ).RelPermalink }}' alt="" class="duration-500 ease-in-out transition-opacity w-1/3 bg-red-500">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/2.png" ).RelPermalink }}' alt="" class="duration-500 ease-in-out transition-opacity w-1/3 bg-blue-500">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/3.png" ).RelPermalink }}' alt="" class="duration-500 ease-in-out transition-opacity w-1/3 bg-green-500">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/4.png" ).RelPermalink }}' alt="" class="duration-500 ease-in-out transition-opacity w-1/3 bg-purple-400">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/5.png" ).RelPermalink }}' alt="" class="duration-500 ease-in-out transition-opacity w-1/3 bg-yellow-400">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/6.png" ).RelPermalink }}' alt="" class="duration-500 ease-in-out transition-opacity w-1/3 bg-teal-500">
    </div>

    <div id="cover-boxes" class="hidden flex-wrap md:flex-none sm:grid sm:grid-cols-8 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12">
        <div class="md:w-full bg-yellow-500 hidden lg:inline"></div>
        <div class="md:w-full bg-purple-500 hidden xl:inline"></div>

        <img src='{{ ( resources.Get "images/primi-piani/thumbs/1.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-red-500 cover-box sm:inline transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/2.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-blue-500 cover-box sm:inline transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/3.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-green-500 cover-box sm:inline transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/4.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-purple-400 cover-box sm:inline transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/5.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-yellow-400 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/6.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-teal-500 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/7.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-pink-500 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/11.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-indigo-400 cover-box sm:inline hidden transition-opacity">

        <div class="md:w-full bg-yellow-500 hidden lg:inline"></div>
        <div class="md:w-full bg-purple-500 hidden xl:inline"></div>

        <div class="md:w-full bg-red-500 hidden xl:inline"></div>
        <div class="md:w-full bg-blue-500 hidden lg:inline"></div>

        <img src='{{ ( resources.Get "images/primi-piani/thumbs/10.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-green-500 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/8.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-pink-500 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/12.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-indigo-400 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/13.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-red-500 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/14.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-teal-500 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/15.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-blue-500 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/19.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-yellow-400 cover-box sm:inline hidden transition-opacity">
        <img src='{{ ( resources.Get "images/primi-piani/thumbs/20.png" ).RelPermalink }}' alt="" class="w-1/2 sm:w-full bg-purple-500 cover-box sm:inline hidden transition-opacity">

        <div class="w-full bg-red-500 hidden xl:inline"></div>
        <div class="w-full bg-blue-500"></div>
    </div>

    <!-- {{ $cover :=  resources.Get "images/cover-wide.jpeg"  }}
    <img src="{{ $cover.RelPermalink }}" alt="Cover image" 
         class="w-full h-64 object-cover object-top"> -->

    {{- partial "main-nav.html" -}}

    <div id="content" class="p-4 md:p-0 md:w-8/12 mx-auto">

        <section class="md:mb-10">
            <div id="chi-siamo" class=""></div>
            <!-- <h2 class="main-section-title">Chi siamo</h2> -->
            <p>Commodi earum dolores quam velit sapiente. Sapiente at et esse est est saepe aspernatur ut. Tenetur sint
                et aut expedita.</p>
            <p>Dignissimos nemo quas necessitatibus et omnis nulla. Ut tenetur consequatur earum quaerat aut at ad
                architecto. Voluptatem nihil id aut culpa alias. Accusamus quia nemo alias exercitationem temporibus
                inventore exercitationem.</p>
            <p>Provident minima voluptatem esse et enim optio. Minima qui quia ex at beatae voluptas officia corrupti.
                Esse quia ut possimus adipisci expedita libero aut velit.</p>
        </section>

        <section class="md:mb-10 md:mt-10">
            <div id="eventi" class=""></div>
            <h2 class="main-section-title">Prossimi eventi</h2>

            {{ partial "event-front-b.html" }}
        </section>

        <div id="contatti" class=""></div>
        <div class="grid 
                    gap-x-8 
                    gap-y-10 
                    mb-10
                    mt-8 
                    md:mt-0 md:grid-cols-2 
                    ">

            <div class="grid grid-row-1 gap-4 bg-white rounded-lg shadow-lg p-4">
                <div class="row-span-1 text-xl flex flex-col text-center mt-auto mb-auto text-gray-700">
                    <span class="">
                        Vuoi partecipare?
                        Hai un progetto da proporci?
                    </span>
                    <spa>
                        Scrivici a
                        <a href="mailto:info@cortepolifonica.it"
                            class="underline text-gray-900">info@cortepolifonica.it</a>
                        </span>
                </div>
                <div class="row-span-1">
                    {{ $contactPerson :=  resources.Get "images/primi-piani/thumbs/8.png"  }}
                    <img src="{{ $contactPerson.RelPermalink }}" alt="Persona di riferimento"
                        class="w-1/2 md:w-1/5 rounded-full mx-auto bg-teal-500">
                </div>
            </div>

            <div class="bg-teal-900 p-4 md:pt-8 md:pb-8 rounded-md grid grid-rows-2 gap-4">
                <div class="text-center">
                    <p class="text-2xl text-white font-sans font-thin">Vuoi rimanere aggiornato?</p>
                    <p class="text-xl text-teal-100 font-light">Iscriviti alla nostra mailing list</p>
                </div>
                <div class="flex items-center">
                    <div class="m-1 rounded-md shadow-sm flex-1 w-2/4 text-xl">
                        <input id="input-email" type="text" placeholder="indirizzo email"
                            class="form-input block w-full p-2 text-base sm:leading-5 rounded">
                    </div>
                    <button class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded font-sans">
                        Iscriviti!
                    </button>
                </div>
            </div>

        </div> <!-- end contact block -->

    </div>

    <script>
        var images = [
            '{{ ( resources.Get "images/primi-piani/thumbs/1.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/2.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/3.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/4.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/5.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/6.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/7.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/8.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/10.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/11.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/12.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/13.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/14.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/15.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/19.png" ).RelPermalink }}',
            '{{ ( resources.Get "images/primi-piani/thumbs/20.png" ).RelPermalink }}'
        ];

        var boxes = Array.from(document.querySelector("#small-cover-boxes").children);

        window.setInterval(function() {
            if (screen.availWidth <= 640) {
                var currentImages = boxes.map(b => basename(b.src));
                console.log(currentImages);
                var j = Math.floor(Math.random() * images.length);
                while (currentImages.indexOf(basename(images[j])) > -1) {
                    j = Math.floor(Math.random() * images.length);
                }
                var i = Math.floor(Math.random() * boxes.length);
                console.log("setting image of " + i + " to " + j);
                // boxes[i].style.opacity = "0";
                boxes[i].src = images[j];
                // boxes[i].style.opacity = "1";
            }
        }, 2000);
    </script>

{{- partial "footer.html" . -}}
</body>

</html>